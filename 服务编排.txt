redis的5种数据类型    数组 列表 集合 hash score
redis multi
aof日志
协议
jedis

brocker队列          pubsub   2.6
notify提醒 2.8以后的redis
pipeline不回滚 批量操作
主从 一致性hash

hash桶集群
bit数据类型
geo数据类型
xgroup streaming队列          5.0
哨兵主从复制
hyperloglog (超对数算法)统计用户点击量估算 用户数量估算(统计概率)

hadoop



消息模型 双端进行数据交换   函数调用流派(rpc)
                            消息流派 数据通过发送和接受消息进行传递队列
                            
微服务前身(soa)
         数据交换流派编排   esb方案     调用派   rpc  bpel(微软)
                                        消息派
                            sca方案     调用派
                                        消息派   消息队列         ibm(messagebroker)
程序(业务粗粒度化)


学术    定义标准            科学院
技术    标准实现用例        互联网
应用    应用框架开发        外包+传统


ESB 企业级服务总线(服务发现及服务编排)    流程配置(bpmn:通过xml控制rpc间的先后顺序)
                                          函数调用+控制逻辑
                                          
                                          
前后端分离
服务网关(gateway)

前端服务器 (tomcat,node.js)

前端通过ajax调用服务        *页面跳转


碎化服务
kickout机制(service mesh网格计算)


            ------------------
            + 服务发现       +
            ------------------

         -----------------------
         +--------             +
         ++  in  +    应用     +
         ++-------             +
         ++  out +             +
         ++-------             +
         -----------------------
         
         
         
消息队列
producer   consumer 内存 ()  一条消息对应一个消费者
                    外存 (fanout) 有过期时间的存储,消费者可以消费所有数据
                    内存+磁盘缓冲(ssd,nvme) (订阅机制topic)
                    (反馈机制request response)
                    
                    
生产者生产过剩问题    offset cas
                      preshard
                      
cpu (缓存) 内存 (ssp) 磁盘

数据备份原则4种   全量 差异 增量 同步
主从复制    读写分离

一致性hash    强位置一致性(命中)
              弱位置一致性(概率)
